<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>MusicLabel - Home</title>
    <style>
        body { font-family: sans-serif; margin: 2em; }
        .section { margin-bottom: 3em; }
        .card { border: 1px solid #ccc; padding: 1em; margin: 0.5em 0; }
    </style>
</head>
<body>
    <h1>Benvenuto su MusicLabel ðŸŽ¶</h1>

    <form method="get" action="">
        <input type="text" name="search" placeholder="Cerca artisti o associati" value="{{ search_query }}">
        <button type="submit">Cerca</button>
    </form>

    {% if search_query %}
        <div class="section">
            <h2>Risultati per "{{ search_query }}"</h2>
            {% if search_results %}
                {% for result in search_results %}
                    <div class="card">
                        <strong>{{ result.user.first_name }}</strong><br>
                        {% if result.stage_name %}Artista: {{ result.stage_name }}{% endif %}
                        {% if result.specialization %}Associato: {{ result.specialization }}{% endif %}
                    </div>
                {% endfor %}
            {% else %}
                <p>Nessun risultato trovato.</p>
            {% endif %}
        </div>
    {% endif %}

    <div class="section">
        <h2>Artisti recenti</h2>
        {% for artist in recent_artists %}
            <div class="card">
                <strong>{{ artist.user.first_name }}</strong> â€” {{ artist.stage_name }}
            </div>
        {% endfor %}
    </div>

    <div class="section">
        <h2>Associati recenti</h2>
        {% for associate in recent_associates %}
            <div class="card">
                <strong>{{ associate.user.first_name }}</strong> â€” {{ associate.specialization }}
            </div>
        {% endfor %}
    </div>
</body>
</html>
